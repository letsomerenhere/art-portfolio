document.addEventListener("DOMContentLoaded", () => {
  initHamburgerMenu();
  configureFancyboxDefaults();
  bindFancyboxGroups();
});

function initHamburgerMenu() {
  const hamburger = document.getElementById("hamburger");
  const menu = document.getElementById("menu");

  if (hamburger && menu) {
    hamburger.addEventListener("click", () => {
      hamburger.classList.toggle("is-active");
      menu.classList.toggle("open");
      document.body.classList.toggle("overlay-open");
    });
  }
}

function configureFancyboxDefaults() {
  if (typeof Fancybox === "undefined") return;

  Fancybox.defaults = {
    dragToClose: false,
    Images: { preload: false, zoom: false },
    Toolbar: {
      display: ["close"]
    },
    Carousel: {
      Navigation: true,
      infinite: true
    },
    Thumbs: false,
    caption: null
  };
}

function bindFancyboxGroups() {
  if (typeof Fancybox === "undefined") return;

  const fancyboxGroups = {
    "holy-unholy": {},
    "new-york": {},
    "angel-clover": {},
    "portland": {},
    "specters": {},
    "montauk": {},
    "andy": {},
    "plum-beach": {},
    "vespers-collection": {},
    "melancholic-collection": {},
    "accessories": {},
    "process": {},
    "digital": { videoAutoplay: true },
    "printed-works": { videoAutoplay: true },
    "fine-art": { videoAutoplay: true },
    "fashion-sketch": {},
    "gallery": {},
  };

  Object.entries(fancyboxGroups).forEach(([group, extraOptions]) => {
    const selector = `[data-fancybox="${group}"]`;
    if (document.querySelector(selector)) {
      Fancybox.bind(selector, {
        ...Fancybox.defaults,
        ...extraOptions
      });
    }
  });
}
